!function(){var a=function(a){var b=this;if(b.manifest=a.manifest||a,b.classes=a.classes||{installed:"installed",not_installed:"not-installed",not_installable:"not-installable",error:"install-error"},b.parent=a.parent||document.body,navigator.mozApps){var c=navigator.mozApps.checkInstalled(b.manifest);c.onsuccess=function(){c.result?b.parent.classList.add(b.classes.installed):b.parent.classList.add(b.classes.not_installed)},c.onerror=function(){b.parent.classList.add(b.classes.error)}}else b.parent.classList.add(b.classes.not_installable)};a.prototype.install=function(){var a=this;if(navigator.mozApps.checkInstalled(a.manifest)){var b=navigator.mozApps.getSelf();b.onsuccess=function(){if(!b.result){var c=navigator.mozApps.install(a.manifest);c.onsuccess=function(){a.parent.classList.remove(a.classes.not_installed),a.parent.classList.add(a.classes.installed)},c.onerror=function(){a.parent.classList.remove(a.classes.not_installed),a.parent.classList.add(a.classes.error),console.log(this.error.name)}}},b.onerror=function(){a.parent.classList.add(a.classes.error)}}},"function"==typeof define&&define.amd?define([],function(){return a}):window.WebInstaller=window.WebInstaller||a}();